@model StormWeb.Models.Faculty
@{
    ViewBag.Title = "CreateFaculty";
}
@using StormWeb.Helper
 
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@using (Html.BeginForm("CreateFaculty", "University", FormMethod.Post, new { id = "appointmentForm" }))
{
    @Html.ValidationSummary(false)
     
    @Html.HiddenFor(model => model.University_Id)
       
    <div class="form-horizontal well">
        <fieldset style="margin-left: 50px;">
            <legend>
                <h2>
                    Add New Faculty</h2>
            </legend>
            <div class="control-group">
                @Html.Label("Faculty Name", null, new { @class = "control-label form-required" })
                <div class="controls">
                    @Html.TextBoxFor(model => model.Faculty_Name, new { @class = "input-large text-tip", placeholder = "Faculty Name" })
                    @*<p class="help-block">
                        @Html.ValidationMessageFor(model => model.Faculty_Name)</p>*@
                    <div id="facultyNameError" class="error" style="display:none;">
                        This field is required
                    </div>
                </div>
            </div>
            <div class="control-group">
                @Html.Label("Faculty Description", null, new { @class = "control-label form-required" })
                <div class="controls">
                    @Html.TextBoxFor(model => model.Faculty_Description, new { @class = "input-large text-tip", placeholder = "Faculty Description" })
                    <p class="help-block">
                        @Html.ValidationMessageFor(model => model.Faculty_Description)</p>
                </div>
            </div>
            <div class="control-group">
                @Html.Label("Campus", null, new { @class = "control-label" })
                <div class="controls">
                    @{  string u = "";
                        string c = "";
                        int i = 0;
                        var item = (StormWeb.Models.University)ViewBag.UniId;
                        u = item.University_Name;
                        c = item.Campus;
                        i = item.University_Id;
                    }
                    @Html.TextBox("Campus", @c, new { @readonly = "readonly", @class = "input-large text-tip", placeholder = "Campus" })
                    <p class="help-block">
                        @Html.ValidationMessageFor(model => model.University.Campus)
                    </p>
                </div>
                <div class="control-group">
                    @Html.Label("University", null, new { @class = "control-label" })
                    <div class="controls">
                        @Html.TextBox("University_Name", @u, new { @readonly = "readonly", @class = "input-large text-tip", placeholder = "University" })
                        <p class="help-block">
                            @Html.ValidationMessageFor(model => model.University.University_Name)
                        </p>
                    </div>
                </div>
                <div class="control-group">
                    <div class="controls">
                        <input type="submit" value="Create" class="btn btn-primary" /> 
                          @Html.Button_DeleteOrCancel("Cancel", @Url.Action("../University/Faculties", new { id =@i}))
                    </div>
                </div>
            </div>
        </fieldset>
    </div>

             
}
<script>
    $(function () {
        
        $('#University_Id').val(@{
            StormWeb.Models.University Uni = (StormWeb.Models.University)ViewBag.UniId;
            @:@Uni.University_Id
        });

        $("input[type*='submit']").click(function(e){
            var facultyName = $("input[name='Faculty_Name']").val();
            var isValid = true;
            if(facultyName == "")
            {
                $('#facultyNameError').css('display','inline');
                isValid = false;
            }
            if(isValid == true){
                $("#appointmentForm").submit();
            }
        });
    });

</script>
